var bookmarkscroll = { setting: { duration: 1e3, yoffset: 0 }, topkeyword: "#top", scrollTo: function (t, o, e) { var n = jQuery, o = o || {}, i = "string" == typeof t && t.length > 0 ? t == this.topkeyword ? 0 : n("#" + t) : t ? n(t) : []; (0 === i || 1 == i.length && (!o.autorun || o.autorun && Math.abs(i.offset().top + (o.yoffset || this.setting.yoffset) - n(window).scrollTop()) > 5)) && this.$body.animate({ scrollTop: 0 === i ? 0 : i.offset().top + (o.yoffset || this.setting.yoffset) }, o.duration || this.setting.duration, function () { 0 !== i && e && (location.hash = e) }) }, urlparamselect: function () { var t = window.location.search.match(/scrollto=[\w\-_,]+/i); return t ? t[0].split("=")[1] : null }, init: function () { jQuery(document).ready(function (t) { var o = bookmarkscroll; o.$body = t(window.opera ? "CSS1Compat" == document.compatMode ? "html" : "body" : "html,body"); var e = o.urlparamselect(); e && setTimeout(function () { o.scrollTo(document.getElementById(e) || t("a[name=" + e + "]:eq(0)").get(0), { autorun: !0 }) }, 100), t('a[href^="#"]').each(function () { var e = this.getAttribute("href").match(/#\w+$/i); if (e = e ? e[0].substring(1) : null, this.hash.length > 1) { var n = t("a[name=" + this.hash.substr(1) + "]:eq(0)"); (1 == n.length || this.hash == o.topkeyword) && (1 != n.length || document.all || n.html(".").css({ position: "absolute", fontSize: 1, visibility: "hidden" }), t(this).click(function (t) { o.scrollTo(this.hash == o.topkeyword ? o.topkeyword : n.get(0), {}, this.hash), t.preventDefault() })) } }) }) } }; bookmarkscroll.init();